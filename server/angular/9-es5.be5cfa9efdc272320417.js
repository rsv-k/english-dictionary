function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{upSR:function(t,e,i){"use strict";i.r(e),i.d(e,"SetsModule",(function(){return M}));var n=i("tyNb"),s=i("fXoL"),a=i("Ii1A"),c=i("7dP1"),r=i("OiFK"),o=i("Wp6s"),l=i("kmnG"),u=i("qFsG"),b=i("bTqV"),d=i("ofXK"),f=i("Qu3c"),p=i("NFeN");function m(t,e){if(1&t&&(s.Sb(0,"mat-card-title"),s.Ac(1),s.Rb()),2&t){var i=s.ec();s.Bb(1),s.Bc(i.set.title)}}function h(t,e){if(1&t){var i=s.Tb();s.Sb(0,"mat-form-field",7),s.Sb(1,"mat-label"),s.Ac(2,"Set title"),s.Rb(),s.Sb(3,"input",8),s.ac("input",(function(t){return s.sc(i),s.ec().title=t.target.value})),s.Rb(),s.Rb()}if(2&t){var n=s.ec();s.Bb(3),s.kc("value",n.title)}}var _,g=((_=function(){function t(e,i){_classCallCheck(this,t),this.setService=e,this.router=i,this.isEditing=!1,this.title=""}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onDeleteSet",value:function(){this.setService.deleteSet(this.set.id)}},{key:"onEdit",value:function(){this.isEditing&&this.title.trim().length>1?(this.set.title=this.title,this.setService.editSet(this.set)):this.isEditing||(this.title=this.set.title),this.isEditing=!this.isEditing}},{key:"moveToDictionary",value:function(t){t.target===t.currentTarget&&this.router.navigate(["set",this.set.title.toLowerCase().split(" ").join("_"),this.set.id])}}]),t}()).\u0275fac=function(t){return new(t||_)(s.Nb(a.a),s.Nb(n.c))},_.\u0275cmp=s.Hb({type:_,selectors:[["app-set"]],inputs:{set:"set"},decls:12,vars:4,consts:[[1,"set",3,"click"],[1,"set__header"],[4,"ngIf"],["class","set__form-field",4,"ngIf"],[1,"set__actions"],["mat-icon-button","","color","primary",3,"matTooltip","click"],["mat-icon-button","","color","warn","matTooltip","delete",3,"click"],[1,"set__form-field"],["matInput","",3,"value","input"]],template:function(t,e){1&t&&(s.Sb(0,"mat-card",0),s.ac("click",(function(t){return e.moveToDictionary(t)})),s.Sb(1,"div",1),s.Sb(2,"mat-card-header"),s.yc(3,m,2,1,"mat-card-title",2),s.Rb(),s.yc(4,h,4,1,"mat-form-field",3),s.Rb(),s.Sb(5,"mat-card-actions",4),s.Sb(6,"button",5),s.ac("click",(function(){return e.onEdit()})),s.Sb(7,"mat-icon"),s.Ac(8),s.Rb(),s.Rb(),s.Sb(9,"button",6),s.ac("click",(function(){return e.onDeleteSet()})),s.Sb(10,"mat-icon"),s.Ac(11,"delete"),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Bb(3),s.kc("ngIf",!e.isEditing),s.Bb(1),s.kc("ngIf",e.isEditing),s.Bb(2),s.kc("matTooltip",e.isEditing?"done":"edit"),s.Bb(2),s.Bc(e.isEditing?"done":"edit"))},directives:[o.a,o.d,d.l,o.b,b.b,f.a,p.a,o.g,l.c,l.f,u.a],styles:[".set[_ngcontent-%COMP%]{width:200px;height:200px;display:flex;justify-content:flex-end;position:relative;cursor:pointer}.set__header[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.set__actions[_ngcontent-%COMP%]{align-self:flex-start;opacity:0;transition:.5s}.set[_ngcontent-%COMP%]:hover   .set__actions[_ngcontent-%COMP%]{opacity:1}.set__form-field[_ngcontent-%COMP%]{width:100%}"]}),_);function v(t,e){1&t&&s.Ob(0,"app-set",10),2&t&&s.kc("set",e.$implicit)}var S,y,C,k,w=((S=function(){function t(e,i,n,s){_classCallCheck(this,t),this.setService=e,this.authService=i,this.route=n,this.utilsService=s}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.data.subscribe((function(e){t.sets=e.sets})),this.subscription=this.setService.setsUpdateListener$.subscribe((function(e){t.sets=e}))}},{key:"onCreateSet",value:function(t){var e={title:t[0].toUpperCase()+t.slice(1).toLowerCase(),ownerId:this.authService.userId};this.sets.find((function(t){return t.title===e.title}))?this.utilsService.showSnackBar("Set with such name already exists"):this.setService.addSet(e)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||S)(s.Nb(a.a),s.Nb(c.a),s.Nb(n.a),s.Nb(r.a))},S.\u0275cmp=s.Hb({type:S,selectors:[["app-sets"]],decls:19,vars:1,consts:[[1,"sets"],[1,"sets__header"],[1,"sets__title"],[1,"sets__main"],[1,"sets__create-set","sets__set"],[1,"sets__form-field"],["matInput",""],["title",""],["mat-raised-button","","color","primary",3,"click"],["class","sets__set",3,"set",4,"ngFor","ngForOf"],[1,"sets__set",3,"set"]],template:function(t,e){if(1&t){var i=s.Tb();s.Sb(0,"div",0),s.Sb(1,"header",1),s.Sb(2,"h1",2),s.Ac(3,"Sets"),s.Rb(),s.Rb(),s.Sb(4,"section",3),s.Sb(5,"mat-card",4),s.Sb(6,"mat-card-header"),s.Sb(7,"mat-card-title"),s.Ac(8,"Create set"),s.Rb(),s.Rb(),s.Sb(9,"mat-card-content"),s.Sb(10,"mat-form-field",5),s.Sb(11,"mat-label"),s.Ac(12,"Set name"),s.Rb(),s.Ob(13,"input",6,7),s.Rb(),s.Rb(),s.Sb(15,"mat-card-actions"),s.Sb(16,"button",8),s.ac("click",(function(){s.sc(i);var t=s.pc(14);return e.onCreateSet(t.value),t.value=""})),s.Ac(17," Create "),s.Rb(),s.Rb(),s.Rb(),s.yc(18,v,1,1,"app-set",9),s.Rb(),s.Rb()}2&t&&(s.Bb(18),s.kc("ngForOf",e.sets))},directives:[o.a,o.d,o.g,o.c,l.c,l.f,u.a,o.b,b.b,d.k,g],styles:[".sets__main[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);justify-items:center;gap:20px}.sets__create-set[_ngcontent-%COMP%]{width:200px;height:200px;display:flex;flex-direction:column;justify-content:space-between}.sets__form-field[_ngcontent-%COMP%]{width:100%}@media only screen and (max-width:1300px){.sets__main[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media only screen and (max-width:1050px){.sets__main[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media only screen and (max-width:800px){.sets__main[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media only screen and (max-width:540px){.sets__main[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),S),R=i("SxV6"),O=[{path:"",component:w,resolve:{sets:(y=function(){function t(e){_classCallCheck(this,t),this.setService=e}return _createClass(t,[{key:"resolve",value:function(){return this.setService.getSets(),this.setService.setsUpdateListener$.pipe(Object(R.a)())}}]),t}(),y.\u0275fac=function(t){return new(t||y)(s.Wb(a.a))},y.\u0275prov=s.Jb({token:y,factory:y.\u0275fac,providedIn:"root"}),y)}}],x=((C=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:C}),C.\u0275inj=s.Kb({factory:function(t){return new(t||C)},imports:[[n.g.forChild(O)],n.g]}),C),P=i("PCNd"),M=((k=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:k}),k.\u0275inj=s.Kb({factory:function(t){return new(t||k)},imports:[[x,P.a]]}),k)}}]);