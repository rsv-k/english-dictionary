function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{YuuO:function(t,e,r){"use strict";r.r(e),r.d(e,"AuthModule",(function(){return U}));var n=r("tyNb"),i=r("ahC7"),a=r("pLZG"),o=r("eIep"),c=r("JIr8"),u=r("LRne"),s=r("fXoL"),l=r("7dP1"),m=r("tXUu"),b=r("Wp6s"),f=r("ofXK"),h=r("bTqV"),p=r("3Pt+"),d=r("Kj3r"),g=r("/uUt"),v=r("lJxs"),S=r("SxV6"),y=r("kmnG"),k=r("qFsG");function C(t,e){1&t&&(s.Sb(0,"mat-error"),s.Ac(1,"Username must be at least 4 characters long"),s.Rb())}function w(t,e){1&t&&(s.Sb(0,"mat-error"),s.Ac(1,"Username already taken"),s.Rb())}function O(t,e){1&t&&(s.Sb(0,"mat-error"),s.Ac(1,"Email already taken"),s.Rb())}function F(t,e){1&t&&(s.Sb(0,"mat-error"),s.Ac(1,"Email must be valid"),s.Rb())}function R(t,e){1&t&&(s.Sb(0,"mat-error"),s.Ac(1,"Password must be at least 8 characters long"),s.Rb())}var I,A=((I=function(){function t(e,r){_classCallCheck(this,t),this.authService=e,this.router=r}return _createClass(t,[{key:"ngOnInit",value:function(){this.initializeForm()}},{key:"onSubmit",value:function(){var t=this;this.authForm.valid&&(this.subscription=this.authService.signup(this.authForm.value).subscribe((function(){t.router.navigate(["/auth/login"])})))}},{key:"initializeForm",value:function(){this.authForm=new p.e({email:new p.c("",[p.r.required,p.r.email],this.isFieldTaken.bind(this,"email")),password:new p.c("",[p.r.required,p.r.minLength(8)]),username:new p.c("",[p.r.required,p.r.minLength(4)],this.isFieldTaken.bind(this,"username"))})}},{key:"isFieldTaken",value:function(t,e){var r=this;return e.valueChanges.pipe(Object(d.a)(1e3),Object(g.a)(),Object(o.a)((function(){return r.authService.checkIfTaken(t,e.value)})),Object(v.a)((function(t){return t.isPresent?t:null})),Object(S.a)())}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||I)(s.Nb(l.a),s.Nb(n.c))},I.\u0275cmp=s.Hb({type:I,selectors:[["app-signup"]],decls:20,vars:7,consts:[[3,"formGroup","ngSubmit"],["required","","matInput","","formControlName","username"],[4,"ngIf"],["type","email","minlength","8","required","","matInput","","formControlName","email"],["minlength","8","required","","matInput","","type","password","formControlName","password"],["type","submit","mat-raised-button","",3,"disabled"]],template:function(t,e){1&t&&(s.Sb(0,"form",0),s.ac("ngSubmit",(function(){return e.onSubmit()})),s.Sb(1,"mat-form-field"),s.Sb(2,"mat-label"),s.Ac(3,"Username"),s.Rb(),s.Ob(4,"input",1),s.yc(5,C,2,0,"mat-error",2),s.yc(6,w,2,0,"mat-error",2),s.Rb(),s.Sb(7,"mat-form-field"),s.Sb(8,"mat-label"),s.Ac(9,"Email"),s.Rb(),s.Ob(10,"input",3),s.yc(11,O,2,0,"mat-error",2),s.yc(12,F,2,0,"mat-error",2),s.Rb(),s.Sb(13,"mat-form-field"),s.Sb(14,"mat-label"),s.Ac(15,"Password"),s.Rb(),s.Ob(16,"input",4),s.yc(17,R,2,0,"mat-error",2),s.Rb(),s.Sb(18,"button",5),s.Ac(19," Submit "),s.Rb(),s.Rb()),2&t&&(s.kc("formGroup",e.authForm),s.Bb(5),s.kc("ngIf",e.authForm.get("username").touched&&(null==e.authForm.get("username").errors?null:e.authForm.get("username").errors.minlength)),s.Bb(1),s.kc("ngIf",e.authForm.get("username").touched&&(null==e.authForm.get("username").errors?null:e.authForm.get("username").errors.isPresent)),s.Bb(5),s.kc("ngIf",e.authForm.get("email").touched&&(null==e.authForm.get("email").errors?null:e.authForm.get("email").errors.isPresent)),s.Bb(1),s.kc("ngIf",e.authForm.get("email").touched&&(null==e.authForm.get("email").errors?null:e.authForm.get("email").errors.email)),s.Bb(5),s.kc("ngIf",e.authForm.get("password").touched&&(null==e.authForm.get("password").errors?null:e.authForm.get("password").errors.minlength)),s.Bb(1),s.kc("disabled",!e.authForm.valid))},directives:[p.s,p.m,p.f,y.c,y.f,k.a,p.b,p.q,p.l,p.d,f.l,p.h,h.b,y.b],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]}),I);function P(t,e){1&t&&(s.Sb(0,"span",5),s.Ac(1,"Invalid email or password"),s.Rb())}var _,N=((_=function(){function t(e,r){_classCallCheck(this,t),this.authService=e,this.router=r,this.isError=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.initializeForm()}},{key:"onSubmit",value:function(){var t=this;this.authForm.valid&&this.authService.login(this.authForm.value).subscribe((function(e){t.authService.initializeAuthState(e),t.router.navigate(["/dictionary"])}),(function(e){t.isError=404===e.status}))}},{key:"initializeForm",value:function(){this.authForm=new p.e({email:new p.c("",[p.r.required,p.r.email]),password:new p.c("",p.r.required)})}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||_)(s.Nb(l.a),s.Nb(n.c))},_.\u0275cmp=s.Hb({type:_,selectors:[["app-login"]],decls:12,vars:3,consts:[[3,"formGroup","ngSubmit"],["class","incorrectCredentials",4,"ngIf"],["type","email","matInput","","formControlName","email"],["matInput","","type","password","formControlName","password"],["type","submit","mat-raised-button","",3,"disabled"],[1,"incorrectCredentials"]],template:function(t,e){1&t&&(s.Sb(0,"form",0),s.ac("ngSubmit",(function(){return e.onSubmit()})),s.yc(1,P,2,0,"span",1),s.Sb(2,"mat-form-field"),s.Sb(3,"mat-label"),s.Ac(4,"Email"),s.Rb(),s.Ob(5,"input",2),s.Rb(),s.Sb(6,"mat-form-field"),s.Sb(7,"mat-label"),s.Ac(8,"Password"),s.Rb(),s.Ob(9,"input",3),s.Rb(),s.Sb(10,"button",4),s.Ac(11," Submit "),s.Rb(),s.Rb()),2&t&&(s.kc("formGroup",e.authForm),s.Bb(1),s.kc("ngIf",e.isError),s.Bb(9),s.kc("disabled",!e.authForm.valid))},directives:[p.s,p.m,p.f,f.l,y.c,y.f,k.a,p.b,p.l,p.d,h.b],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.incorrectCredentials[_ngcontent-%COMP%]{color:red;padding:10px 0}"]}),_);function j(t,e){if(1&t&&(s.Sb(0,"mat-card-subtitle",5),s.Ac(1),s.Rb()),2&t){var r=s.ec();s.Bb(1),s.Bc(r.error)}}function B(t,e){1&t&&s.Ob(0,"app-signup")}function M(t,e){1&t&&s.Ob(0,"app-login")}var x,q,E,G=((x=function(){function t(e,r,n,i){_classCallCheck(this,t),this.route=e,this.router=r,this.socialAuthService=n,this.authService=i}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.url.subscribe((function(e){t.form=e[0].path})),this.socialAuthService.authState.pipe(Object(a.a)((function(t){return!!t})),Object(o.a)((function(e){return t.authService.googleAuth(e).pipe(Object(c.a)((function(e){return t.error="email"===e.error.error.path?"User with such email already registered":"Random error occured",t.socialAuthService.signOut(),Object(u.a)(null)})))}))).subscribe((function(e){e&&(t.authService.initializeAuthState(e),t.router.navigate(["/dictionary"]),t.socialAuthService.signOut())}))}},{key:"signInWithGoogle",value:function(){this.socialAuthService.signIn(i.a.PROVIDER_ID)}},{key:"onNavigate",value:function(){this.router.navigate(["/auth/".concat("signup"===this.form?"login":"signup")])}}]),t}()).\u0275fac=function(t){return new(t||x)(s.Nb(n.a),s.Nb(n.c),s.Nb(i.b),s.Nb(l.a))},x.\u0275cmp=s.Hb({type:x,selectors:[["app-auth"]],decls:15,vars:7,consts:[["class","error",4,"ngIf"],[4,"ngIf"],[1,"social-medias"],["mat-raised-button","","color","warn",3,"click"],[3,"click"],[1,"error"]],template:function(t,e){1&t&&(s.Sb(0,"app-centered-projection"),s.Sb(1,"mat-card"),s.Sb(2,"mat-card-header"),s.Sb(3,"mat-card-title"),s.Ac(4),s.fc(5,"uppercase"),s.Rb(),s.yc(6,j,2,1,"mat-card-subtitle",0),s.Rb(),s.yc(7,B,1,0,"app-signup",1),s.yc(8,M,1,0,"app-login",1),s.Sb(9,"div",2),s.Sb(10,"button",3),s.ac("click",(function(){return e.signInWithGoogle()})),s.Ac(11," Sign in with google "),s.Rb(),s.Rb(),s.Sb(12,"mat-card-actions"),s.Sb(13,"p",4),s.ac("click",(function(){return e.onNavigate()})),s.Ac(14),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Bb(4),s.Bc(s.gc(5,5,e.form)),s.Bb(2),s.kc("ngIf",e.error),s.Bb(1),s.kc("ngIf","signup"===e.form),s.Bb(1),s.kc("ngIf","login"===e.form),s.Bb(6),s.Cc(" ","signup"===e.form?"Have an account? Log in":"Don't have an account? Sign up"," "))},directives:[m.a,b.a,b.d,b.g,f.l,h.b,b.b,b.f,A,N],pipes:[f.r],styles:["mat-card[_ngcontent-%COMP%]{width:400px}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-card-actions[_ngcontent-%COMP%]{text-align:center}mat-card-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer}.social-medias[_ngcontent-%COMP%], mat-card-title[_ngcontent-%COMP%]{display:flex;justify-content:center}.social-medias[_ngcontent-%COMP%]{margin-top:15px}.error[_ngcontent-%COMP%]{color:red}"]}),x),L=[{path:"login",component:G},{path:"signup",component:G}],z=((q=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:q}),q.\u0275inj=s.Kb({factory:function(t){return new(t||q)},imports:[[n.g.forChild(L)],n.g]}),q),T=r("PCNd"),U=((E=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:E}),E.\u0275inj=s.Kb({factory:function(t){return new(t||E)},imports:[[z,T.a,p.p]]}),E)}}]);