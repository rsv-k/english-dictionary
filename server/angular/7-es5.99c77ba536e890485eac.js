function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{YuuO:function(t,e,n){"use strict";n.r(e),n.d(e,"AuthModule",(function(){return E}));var r=n("tyNb"),a=n("fXoL"),i=n("tXUu"),o=n("Wp6s"),u=n("ofXK"),c=n("3Pt+"),s=n("Kj3r"),l=n("/uUt"),m=n("eIep"),b=n("lJxs"),f=n("SxV6"),p=n("7dP1"),h=n("kmnG"),d=n("qFsG"),g=n("bTqV");function v(t,e){1&t&&(a.Sb(0,"mat-error"),a.Ac(1,"Username must be at least 4 characters long"),a.Rb())}function y(t,e){1&t&&(a.Sb(0,"mat-error"),a.Ac(1,"Username already taken"),a.Rb())}function S(t,e){1&t&&(a.Sb(0,"mat-error"),a.Ac(1,"Email already taken"),a.Rb())}function k(t,e){1&t&&(a.Sb(0,"mat-error"),a.Ac(1,"Email must be valid"),a.Rb())}function w(t,e){1&t&&(a.Sb(0,"mat-error"),a.Ac(1,"Password must be at least 8 characters long"),a.Rb())}var C,F=((C=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.initializeForm()}},{key:"onSubmit",value:function(){this.authForm.valid&&this.authService.signup(this.authForm.value)}},{key:"initializeForm",value:function(){this.authForm=new c.e({email:new c.c("",[c.r.required,c.r.email],this.isFieldTaken.bind(this,"email")),password:new c.c("",[c.r.required,c.r.minLength(8)]),username:new c.c("",[c.r.required,c.r.minLength(4)],this.isFieldTaken.bind(this,"username"))})}},{key:"isFieldTaken",value:function(t,e){var n=this;return e.valueChanges.pipe(Object(s.a)(1e3),Object(l.a)(),Object(m.a)((function(){return n.authService.checkIfTaken(t,e.value)})),Object(b.a)((function(t){return t.isPresent?t:null})),Object(f.a)())}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||C)(a.Nb(p.a))},C.\u0275cmp=a.Hb({type:C,selectors:[["app-signup"]],decls:20,vars:7,consts:[[3,"formGroup","ngSubmit"],["required","","matInput","","formControlName","username"],[4,"ngIf"],["type","email","minlength","8","required","","matInput","","formControlName","email"],["minlength","8","required","","matInput","","type","password","formControlName","password"],["type","submit","mat-raised-button","",3,"disabled"]],template:function(t,e){1&t&&(a.Sb(0,"form",0),a.ac("ngSubmit",(function(){return e.onSubmit()})),a.Sb(1,"mat-form-field"),a.Sb(2,"mat-label"),a.Ac(3,"Username"),a.Rb(),a.Ob(4,"input",1),a.yc(5,v,2,0,"mat-error",2),a.yc(6,y,2,0,"mat-error",2),a.Rb(),a.Sb(7,"mat-form-field"),a.Sb(8,"mat-label"),a.Ac(9,"Email"),a.Rb(),a.Ob(10,"input",3),a.yc(11,S,2,0,"mat-error",2),a.yc(12,k,2,0,"mat-error",2),a.Rb(),a.Sb(13,"mat-form-field"),a.Sb(14,"mat-label"),a.Ac(15,"Password"),a.Rb(),a.Ob(16,"input",4),a.yc(17,w,2,0,"mat-error",2),a.Rb(),a.Sb(18,"button",5),a.Ac(19," Submit "),a.Rb(),a.Rb()),2&t&&(a.kc("formGroup",e.authForm),a.Bb(5),a.kc("ngIf",e.authForm.get("username").touched&&(null==e.authForm.get("username").errors?null:e.authForm.get("username").errors.minlength)),a.Bb(1),a.kc("ngIf",e.authForm.get("username").touched&&(null==e.authForm.get("username").errors?null:e.authForm.get("username").errors.isPresent)),a.Bb(5),a.kc("ngIf",e.authForm.get("email").touched&&(null==e.authForm.get("email").errors?null:e.authForm.get("email").errors.isPresent)),a.Bb(1),a.kc("ngIf",e.authForm.get("email").touched&&(null==e.authForm.get("email").errors?null:e.authForm.get("email").errors.email)),a.Bb(5),a.kc("ngIf",e.authForm.get("password").touched&&(null==e.authForm.get("password").errors?null:e.authForm.get("password").errors.minlength)),a.Bb(1),a.kc("disabled",!e.authForm.valid))},directives:[c.s,c.m,c.f,h.c,h.f,d.a,c.b,c.q,c.l,c.d,u.l,c.h,g.b,h.b],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]}),C);function O(t,e){1&t&&(a.Sb(0,"span",5),a.Ac(1,"Invalid email or password"),a.Rb())}var R,I=((R=function(){function t(e,n){_classCallCheck(this,t),this.authService=e,this.router=n,this.isError=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.initializeForm()}},{key:"onSubmit",value:function(){var t=this;this.authForm.valid&&this.authService.login(this.authForm.value).subscribe((function(e){t.authService.initializeAuthState(e),t.router.navigate(["/dictionary"])}),(function(e){t.isError=404===e.status}))}},{key:"initializeForm",value:function(){this.authForm=new c.e({email:new c.c("",[c.r.required,c.r.email]),password:new c.c("",c.r.required)})}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||R)(a.Nb(p.a),a.Nb(r.c))},R.\u0275cmp=a.Hb({type:R,selectors:[["app-login"]],decls:12,vars:3,consts:[[3,"formGroup","ngSubmit"],["class","incorrectCredentials",4,"ngIf"],["type","email","matInput","","formControlName","email"],["matInput","","type","password","formControlName","password"],["type","submit","mat-raised-button","",3,"disabled"],[1,"incorrectCredentials"]],template:function(t,e){1&t&&(a.Sb(0,"form",0),a.ac("ngSubmit",(function(){return e.onSubmit()})),a.yc(1,O,2,0,"span",1),a.Sb(2,"mat-form-field"),a.Sb(3,"mat-label"),a.Ac(4,"Email"),a.Rb(),a.Ob(5,"input",2),a.Rb(),a.Sb(6,"mat-form-field"),a.Sb(7,"mat-label"),a.Ac(8,"Password"),a.Rb(),a.Ob(9,"input",3),a.Rb(),a.Sb(10,"button",4),a.Ac(11," Submit "),a.Rb(),a.Rb()),2&t&&(a.kc("formGroup",e.authForm),a.Bb(1),a.kc("ngIf",e.isError),a.Bb(9),a.kc("disabled",!e.authForm.valid))},directives:[c.s,c.m,c.f,u.l,h.c,h.f,d.a,c.b,c.l,c.d,g.b],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.incorrectCredentials[_ngcontent-%COMP%]{color:red;padding:10px 0}"]}),R);function P(t,e){1&t&&a.Ob(0,"app-signup")}function _(t,e){1&t&&a.Ob(0,"app-login")}var A,N,B,j=((A=function(){function t(e,n){_classCallCheck(this,t),this.route=e,this.router=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.url.subscribe((function(e){t.form=e[0].path}))}},{key:"onNavigate",value:function(){this.router.navigate(["/auth/".concat("signup"===this.form?"login":"signup")])}}]),t}()).\u0275fac=function(t){return new(t||A)(a.Nb(r.a),a.Nb(r.c))},A.\u0275cmp=a.Hb({type:A,selectors:[["app-auth"]],decls:11,vars:6,consts:[[4,"ngIf"],[3,"click"]],template:function(t,e){1&t&&(a.Sb(0,"app-centered-projection"),a.Sb(1,"mat-card"),a.Sb(2,"mat-card-header"),a.Sb(3,"mat-card-title"),a.Ac(4),a.fc(5,"uppercase"),a.Rb(),a.Rb(),a.yc(6,P,1,0,"app-signup",0),a.yc(7,_,1,0,"app-login",0),a.Sb(8,"mat-card-actions"),a.Sb(9,"p",1),a.ac("click",(function(){return e.onNavigate()})),a.Ac(10),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&t&&(a.Bb(4),a.Bc(a.gc(5,4,e.form)),a.Bb(2),a.kc("ngIf","signup"===e.form),a.Bb(1),a.kc("ngIf","login"===e.form),a.Bb(3),a.Cc(" ","signup"===e.form?"Have an account? Log in":"Don't have an account? Sign up"," "))},directives:[i.a,o.a,o.d,o.g,u.l,o.b,F,I],pipes:[u.r],styles:["mat-card[_ngcontent-%COMP%]{width:400px}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-card-actions[_ngcontent-%COMP%]{text-align:center}mat-card-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer}"]}),A),q=[{path:"login",component:j},{path:"signup",component:j}],x=((N=function t(){_classCallCheck(this,t)}).\u0275mod=a.Lb({type:N}),N.\u0275inj=a.Kb({factory:function(t){return new(t||N)},imports:[[r.g.forChild(q)],r.g]}),N),M=n("PCNd"),E=((B=function t(){_classCallCheck(this,t)}).\u0275mod=a.Lb({type:B}),B.\u0275inj=a.Kb({factory:function(t){return new(t||B)},imports:[[x,M.a,c.p]]}),B)}}]);