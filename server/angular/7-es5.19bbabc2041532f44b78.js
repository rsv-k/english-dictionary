function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{YuuO:function(e,t,r){"use strict";r.r(t),r.d(t,"AuthModule",(function(){return G}));var n=r("tyNb"),a=r("fXoL"),i=r("tXUu"),o=r("Wp6s"),s=r("ofXK"),u=r("3Pt+"),c=r("Kj3r"),l=r("/uUt"),m=r("eIep"),b=r("lJxs"),f=r("SxV6"),p=r("7dP1"),h=r("kmnG"),d=r("qFsG"),g=r("bTqV");function y(e,t){1&e&&(a.Sb(0,"mat-error"),a.Ac(1,"Username must be at least 4 characters long"),a.Rb())}function v(e,t){1&e&&(a.Sb(0,"mat-error"),a.Ac(1,"Username already taken"),a.Rb())}function S(e,t){1&e&&(a.Sb(0,"mat-error"),a.Ac(1,"Email already taken"),a.Rb())}function k(e,t){1&e&&(a.Sb(0,"mat-error"),a.Ac(1,"Email must be valid"),a.Rb())}function w(e,t){1&e&&(a.Sb(0,"mat-error"),a.Ac(1,"Password must be at least 8 characters long"),a.Rb())}var C,F=((C=function(){function e(t){_classCallCheck(this,e),this.authService=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.initializeForm()}},{key:"onSubmit",value:function(){this.authForm.valid&&this.authService.signup(this.authForm.value)}},{key:"initializeForm",value:function(){this.authForm=new u.e({email:new u.c("",[u.r.required,u.r.email],this.isFieldTaken.bind(this,"email")),password:new u.c("",[u.r.required,u.r.minLength(8)]),username:new u.c("",[u.r.required,u.r.minLength(4)],this.isFieldTaken.bind(this,"username"))})}},{key:"isFieldTaken",value:function(e,t){var r=this;return t.valueChanges.pipe(Object(c.a)(1e3),Object(l.a)(),Object(m.a)((function(){return r.authService.checkIfTaken(e,t.value)})),Object(b.a)((function(e){return e.isPresent?e:null})),Object(f.a)())}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||C)(a.Nb(p.a))},C.\u0275cmp=a.Hb({type:C,selectors:[["app-signup"]],decls:20,vars:7,consts:[[3,"formGroup","ngSubmit"],["required","","matInput","","formControlName","username"],[4,"ngIf"],["type","email","minlength","8","required","","matInput","","formControlName","email"],["minlength","8","required","","matInput","","type","password","formControlName","password"],["type","submit","mat-raised-button","",3,"disabled"]],template:function(e,t){1&e&&(a.Sb(0,"form",0),a.ac("ngSubmit",(function(){return t.onSubmit()})),a.Sb(1,"mat-form-field"),a.Sb(2,"mat-label"),a.Ac(3,"Username"),a.Rb(),a.Ob(4,"input",1),a.yc(5,y,2,0,"mat-error",2),a.yc(6,v,2,0,"mat-error",2),a.Rb(),a.Sb(7,"mat-form-field"),a.Sb(8,"mat-label"),a.Ac(9,"Email"),a.Rb(),a.Ob(10,"input",3),a.yc(11,S,2,0,"mat-error",2),a.yc(12,k,2,0,"mat-error",2),a.Rb(),a.Sb(13,"mat-form-field"),a.Sb(14,"mat-label"),a.Ac(15,"Password"),a.Rb(),a.Ob(16,"input",4),a.yc(17,w,2,0,"mat-error",2),a.Rb(),a.Sb(18,"button",5),a.Ac(19," Submit "),a.Rb(),a.Rb()),2&e&&(a.kc("formGroup",t.authForm),a.Bb(5),a.kc("ngIf",t.authForm.get("username").touched&&(null==t.authForm.get("username").errors?null:t.authForm.get("username").errors.minlength)),a.Bb(1),a.kc("ngIf",t.authForm.get("username").touched&&(null==t.authForm.get("username").errors?null:t.authForm.get("username").errors.isPresent)),a.Bb(5),a.kc("ngIf",t.authForm.get("email").touched&&(null==t.authForm.get("email").errors?null:t.authForm.get("email").errors.isPresent)),a.Bb(1),a.kc("ngIf",t.authForm.get("email").touched&&(null==t.authForm.get("email").errors?null:t.authForm.get("email").errors.email)),a.Bb(5),a.kc("ngIf",t.authForm.get("password").touched&&(null==t.authForm.get("password").errors?null:t.authForm.get("password").errors.minlength)),a.Bb(1),a.kc("disabled",!t.authForm.valid))},directives:[u.s,u.m,u.f,h.c,h.f,d.a,u.b,u.q,u.l,u.d,s.l,u.h,g.b,h.b],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]}),C);function O(e,t){1&e&&(a.Sb(0,"span",5),a.Ac(1,"Invalid email or password"),a.Rb())}var R,I=((R=function(){function e(t,r){_classCallCheck(this,e),this.authService=t,this.router=r,this.isError=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.initializeForm()}},{key:"onSubmit",value:function(){var e=this;this.authForm.valid&&this.authService.login(this.authForm.value).subscribe((function(t){e.authService.initializeAuthState(t),e.router.navigate(["/dictionary"])}),(function(t){e.isError=404===t.status}))}},{key:"initializeForm",value:function(){this.authForm=new u.e({email:new u.c(""),password:new u.c("")})}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||R)(a.Nb(p.a),a.Nb(n.c))},R.\u0275cmp=a.Hb({type:R,selectors:[["app-login"]],decls:12,vars:2,consts:[[3,"formGroup","ngSubmit"],["class","incorrectCredentials",4,"ngIf"],["type","email","matInput","","formControlName","email"],["matInput","","type","password","formControlName","password"],["type","submit","mat-raised-button",""],[1,"incorrectCredentials"]],template:function(e,t){1&e&&(a.Sb(0,"form",0),a.ac("ngSubmit",(function(){return t.onSubmit()})),a.yc(1,O,2,0,"span",1),a.Sb(2,"mat-form-field"),a.Sb(3,"mat-label"),a.Ac(4,"Email"),a.Rb(),a.Ob(5,"input",2),a.Rb(),a.Sb(6,"mat-form-field"),a.Sb(7,"mat-label"),a.Ac(8,"Password"),a.Rb(),a.Ob(9,"input",3),a.Rb(),a.Sb(10,"button",4),a.Ac(11," Submit "),a.Rb(),a.Rb()),2&e&&(a.kc("formGroup",t.authForm),a.Bb(1),a.kc("ngIf",t.isError))},directives:[u.s,u.m,u.f,s.l,h.c,h.f,d.a,u.b,u.l,u.d,g.b],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.incorrectCredentials[_ngcontent-%COMP%]{color:red;padding:10px 0}"]}),R);function P(e,t){1&e&&a.Ob(0,"app-signup")}function _(e,t){1&e&&a.Ob(0,"app-login")}var A,j,B,N=((A=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.url.subscribe((function(t){e.form=t[0].path}))}}]),e}()).\u0275fac=function(e){return new(e||A)(a.Nb(n.a))},A.\u0275cmp=a.Hb({type:A,selectors:[["app-auth"]],decls:8,vars:5,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(a.Sb(0,"app-centered-projection"),a.Sb(1,"mat-card"),a.Sb(2,"mat-card-header"),a.Sb(3,"mat-card-title"),a.Ac(4),a.fc(5,"uppercase"),a.Rb(),a.Rb(),a.yc(6,P,1,0,"app-signup",0),a.yc(7,_,1,0,"app-login",0),a.Rb(),a.Rb()),2&e&&(a.Bb(4),a.Bc(a.gc(5,3,t.form)),a.Bb(2),a.kc("ngIf","signup"===t.form),a.Bb(1),a.kc("ngIf","login"===t.form))},directives:[i.a,o.a,o.d,o.g,s.l,F,I],pipes:[s.r],styles:["mat-card[_ngcontent-%COMP%]{width:300px}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),A),q=[{path:"login",component:N},{path:"signup",component:N}],x=((j=function e(){_classCallCheck(this,e)}).\u0275mod=a.Lb({type:j}),j.\u0275inj=a.Kb({factory:function(e){return new(e||j)},imports:[[n.g.forChild(q)],n.g]}),j),E=r("PCNd"),G=((B=function e(){_classCallCheck(this,e)}).\u0275mod=a.Lb({type:B}),B.\u0275inj=a.Kb({factory:function(e){return new(e||B)},imports:[[x,E.a,u.p]]}),B)}}]);