function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{upSR:function(t,e,i){"use strict";i.r(e),i.d(e,"SetsModule",(function(){return P}));var n=i("tyNb"),s=i("fXoL"),c=i("Ii1A"),a=i("7dP1"),r=i("Wp6s"),o=i("kmnG"),l=i("qFsG"),u=i("bTqV"),b=i("ofXK"),f=i("Qu3c"),d=i("NFeN");function p(t,e){if(1&t&&(s.Sb(0,"mat-card-title"),s.zc(1),s.Rb()),2&t){var i=s.ec();s.Bb(1),s.Ac(i.set.title)}}function h(t,e){if(1&t){var i=s.Tb();s.Sb(0,"mat-form-field",7),s.Sb(1,"mat-label"),s.zc(2,"Set title"),s.Rb(),s.Sb(3,"input",8),s.ac("input",(function(t){return s.rc(i),s.ec().title=t.target.value})),s.Rb(),s.Rb()}if(2&t){var n=s.ec();s.Bb(3),s.kc("value",n.title)}}var m,_=((m=function(){function t(e,i){_classCallCheck(this,t),this.setService=e,this.router=i,this.isEditing=!1,this.title=""}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onDeleteSet",value:function(){this.setService.deleteSet(this.set.id)}},{key:"onEdit",value:function(){this.isEditing&&this.title.trim().length>1?(this.set.title=this.title,this.setService.editSet(this.set)):this.isEditing||(this.title=this.set.title),this.isEditing=!this.isEditing}},{key:"moveToDictionary",value:function(t){t.target===t.currentTarget&&this.router.navigate(["set",this.set.title.toLowerCase().split(" ").join("_"),this.set.id])}}]),t}()).\u0275fac=function(t){return new(t||m)(s.Nb(c.a),s.Nb(n.c))},m.\u0275cmp=s.Hb({type:m,selectors:[["app-set"]],inputs:{set:"set"},decls:12,vars:4,consts:[[1,"set",3,"click"],[1,"set__header"],[4,"ngIf"],["class","set__form-field",4,"ngIf"],[1,"set__actions"],["mat-icon-button","","color","primary",3,"matTooltip","click"],["mat-icon-button","","color","warn","matTooltip","delete",3,"click"],[1,"set__form-field"],["matInput","",3,"value","input"]],template:function(t,e){1&t&&(s.Sb(0,"mat-card",0),s.ac("click",(function(t){return e.moveToDictionary(t)})),s.Sb(1,"div",1),s.Sb(2,"mat-card-header"),s.xc(3,p,2,1,"mat-card-title",2),s.Rb(),s.xc(4,h,4,1,"mat-form-field",3),s.Rb(),s.Sb(5,"mat-card-actions",4),s.Sb(6,"button",5),s.ac("click",(function(){return e.onEdit()})),s.Sb(7,"mat-icon"),s.zc(8),s.Rb(),s.Rb(),s.Sb(9,"button",6),s.ac("click",(function(){return e.onDeleteSet()})),s.Sb(10,"mat-icon"),s.zc(11,"delete"),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Bb(3),s.kc("ngIf",!e.isEditing),s.Bb(1),s.kc("ngIf",e.isEditing),s.Bb(2),s.kc("matTooltip",e.isEditing?"done":"edit"),s.Bb(2),s.Ac(e.isEditing?"done":"edit"))},directives:[r.a,r.d,b.l,r.b,u.b,f.a,d.a,r.g,o.c,o.f,l.a],styles:[".set[_ngcontent-%COMP%]{width:200px;height:200px;display:flex;justify-content:flex-end;position:relative;cursor:pointer}.set__header[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.set__actions[_ngcontent-%COMP%]{align-self:flex-start;opacity:0;transition:.5s}.set[_ngcontent-%COMP%]:hover   .set__actions[_ngcontent-%COMP%]{opacity:1}.set__form-field[_ngcontent-%COMP%]{width:100%}"]}),m);function v(t,e){1&t&&s.Ob(0,"app-set",10),2&t&&s.kc("set",e.$implicit)}var S,g,y,C,k=((S=function(){function t(e,i,n){_classCallCheck(this,t),this.setService=e,this.authService=i,this.route=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.data.subscribe((function(e){t.sets=e.sets})),this.subscription=this.setService.setsUpdateListener$.subscribe((function(e){t.sets=e}))}},{key:"onCreateSet",value:function(t){var e={title:t[0].toUpperCase()+t.slice(1).toLowerCase(),ownerId:this.authService.userId};this.setService.addSet(e)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||S)(s.Nb(c.a),s.Nb(a.a),s.Nb(n.a))},S.\u0275cmp=s.Hb({type:S,selectors:[["app-sets"]],decls:19,vars:1,consts:[[1,"sets"],[1,"sets__header"],[1,"sets__title"],[1,"sets__main"],[1,"sets__create-set","sets__set"],[1,"sets__form-field"],["matInput",""],["title",""],["mat-raised-button","","color","primary",3,"click"],["class","sets__set",3,"set",4,"ngFor","ngForOf"],[1,"sets__set",3,"set"]],template:function(t,e){if(1&t){var i=s.Tb();s.Sb(0,"div",0),s.Sb(1,"header",1),s.Sb(2,"h1",2),s.zc(3,"Sets"),s.Rb(),s.Rb(),s.Sb(4,"section",3),s.Sb(5,"mat-card",4),s.Sb(6,"mat-card-header"),s.Sb(7,"mat-card-title"),s.zc(8,"Create set"),s.Rb(),s.Rb(),s.Sb(9,"mat-card-content"),s.Sb(10,"mat-form-field",5),s.Sb(11,"mat-label"),s.zc(12,"Set name"),s.Rb(),s.Ob(13,"input",6,7),s.Rb(),s.Rb(),s.Sb(15,"mat-card-actions"),s.Sb(16,"button",8),s.ac("click",(function(){s.rc(i);var t=s.oc(14);return e.onCreateSet(t.value),t.value=""})),s.zc(17," Create "),s.Rb(),s.Rb(),s.Rb(),s.xc(18,v,1,1,"app-set",9),s.Rb(),s.Rb()}2&t&&(s.Bb(18),s.kc("ngForOf",e.sets))},directives:[r.a,r.d,r.g,r.c,o.c,o.f,l.a,r.b,u.b,b.k,_],styles:[".sets__main[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-gap:100px;justify-items:center}.sets__create-set[_ngcontent-%COMP%]{width:200px;height:200px;display:flex;flex-direction:column;justify-content:space-between}.sets__form-field[_ngcontent-%COMP%]{width:100%}"]}),S),R=i("SxV6"),w=[{path:"",component:k,resolve:{sets:(g=function(){function t(e){_classCallCheck(this,t),this.setService=e}return _createClass(t,[{key:"resolve",value:function(){return this.setService.getSets(),this.setService.setsUpdateListener$.pipe(Object(R.a)())}}]),t}(),g.\u0275fac=function(t){return new(t||g)(s.Wb(c.a))},g.\u0275prov=s.Jb({token:g,factory:g.\u0275fac,providedIn:"root"}),g)}}],O=((y=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:y}),y.\u0275inj=s.Kb({factory:function(t){return new(t||y)},imports:[[n.g.forChild(w)],n.g]}),y),x=i("PCNd"),P=((C=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:C}),C.\u0275inj=s.Kb({factory:function(t){return new(t||C)},imports:[[O,x.a]]}),C)}}]);